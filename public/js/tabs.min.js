"use strict";function _typeof(e){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}window.addEventListener("load",function(){var e,t;Element.prototype.matches||(Element.prototype.matches=Element.prototype.msMatchesSelector||Element.prototype.webkitMatchesSelector),e="undefined"!=typeof global?global:"undefined"!=typeof window?window:this,t=function(u){var l={idPrefix:"tabby-toggle_",default:'[data-tabby-default="true"]'},o=function(e,t){var r;"function"==typeof u.CustomEvent?r=new CustomEvent("tabby",{bubbles:!0,cancelable:!0,detail:t}):(r=document.createEvent("CustomEvent")).initCustomEvent("tabby",!0,!0,t),e.dispatchEvent(r)},n=function(e){e=e.closest('[role="tablist"]');if(!e)return{};e=e.querySelector('[role="tab"][aria-selected="true"]');if(!e)return{};var t=document.querySelector(e.hash);return e.setAttribute("aria-selected","false"),e.setAttribute("tabindex","-1"),t?(t.setAttribute("hidden","hidden"),{previousTab:e,previousContent:t}):{previousTab:e}},i=function(e,t){e.setAttribute("aria-selected","true"),e.setAttribute("tabindex","0"),t.removeAttribute("hidden"),e.focus()},c=function(e){var t,r;!e||"true"==e.getAttribute("aria-selected")||(t=document.querySelector(e.hash))&&(r=n(e),i(e,t),r.tab=e,r.content=t,o(e,r))},d=function(e){var t=e.closest('[role="tablist"]'),t=t?t.querySelectorAll('[role="tab"]'):null;if(t)return{tabs:t,index:Array.prototype.indexOf.call(t,e)}};return function(n,e){var o,t,r={},i=(r.destroy=function(){var e=t.querySelectorAll("a");Array.prototype.forEach.call(e,function(e){var t,r=document.querySelector(e.hash);r&&(r=r,t=o,(e=e).id.slice(0,t.idPrefix.length)===t.idPrefix&&(e.id=""),e.removeAttribute("role"),e.removeAttribute("aria-controls"),e.removeAttribute("aria-selected"),e.removeAttribute("tabindex"),e.closest("li").removeAttribute("role"),r.removeAttribute("role"),r.removeAttribute("aria-labelledby"),r.removeAttribute("hidden"))}),t.removeAttribute("role"),document.documentElement.removeEventListener("click",i,!0),t.removeEventListener("keydown",a,!0),t=o=null},r.setup=function(){var e;(t=document.querySelector(n))&&(e=t.querySelectorAll("a"),t.setAttribute("role","tablist"),Array.prototype.forEach.call(e,function(e){var t,r=document.querySelector(e.hash);r&&(r=r,t=o,(e=e).id||(e.id=t.idPrefix+r.id),e.setAttribute("role","tab"),e.setAttribute("aria-controls",r.id),e.closest("li").setAttribute("role","presentation"),r.setAttribute("role","tabpanel"),r.setAttribute("aria-labelledby",e.id),e.matches(t.default)?e.setAttribute("aria-selected","true"):(e.setAttribute("aria-selected","false"),e.setAttribute("tabindex","-1"),r.setAttribute("hidden","hidden")))}))},r.toggle=function(e){var t=e;"string"==typeof e&&(t=document.querySelector(n+' [role="tab"][href*="'+e+'"]')),c(t)},function(e){var t=e.target.closest(n+' [role="tab"]');t&&(e.preventDefault(),c(t))}),a=function(e){var t,r,o=document.activeElement;!o.matches(n+' [role="tab"]')||["ArrowUp","ArrowDown","ArrowLeft","ArrowRight","Up","Down","Left","Right","Home","End"].indexOf(e.key)<0||(o=o,e=e.key,(o=d(o))&&(t=o.tabs.length-1,-1<["ArrowUp","ArrowLeft","Up","Left"].indexOf(e)?r=o.index<1?t:o.index-1:-1<["ArrowDown","ArrowRight","Down","Right"].indexOf(e)?r=o.index===t?0:o.index+1:"Home"===e?r=0:"End"===e&&(r=t),c(o.tabs[r])))};return o=function(){var r={};return Array.prototype.forEach.call(arguments,function(e){for(var t in e){if(!e.hasOwnProperty(t))return;r[t]=e[t]}}),r}(l,e||{}),r.setup(),e=n,u.location.hash.length<1||(e=document.querySelector(e+' [role="tab"][href*="'+u.location.hash+'"]'),c(e)),console.log(t),document.documentElement.addEventListener("click",i,!0),t.addEventListener("keydown",a,!0),r}},"function"==typeof define&&define.amd?define([],function(){return t(e)}):"object"===("undefined"==typeof exports?"undefined":_typeof(exports))?module.exports=t(e):e.Tabby=t(e),console.log(document),new Tabby('[data-tabs="true"]')});